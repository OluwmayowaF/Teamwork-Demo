language: node_js
node_js:
- stable
services:
- postgresql
before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build
script: 
  - npm run test;
after_success:
  - npm run coverage 
  - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT
env:
  global:
  - secure: kS/UZbMjvTy/lFlijArwc2rLL9+YaWag7JNrcN4nRP09V/i6ioyvXa5Qiw89fK2+GS1wcadQDzsxz07HKSNBz3epOuz+b/BwVvK2NQ2Ag0B1mEvZTkyPpsimKSue46gV1v/+v3qNG4bFfzmtjiBHHvrpaeFRJx4gKvga+KRg3H2ZNMWKH/cqwu0CeRdPXTwfUFQYnRl4gM16vJXTXX+UolUPQdLg1VodlwL0CsW3nGwKU4icuzhLZ3QHHsg2+dAvshMu0fyKvDfWeTjtioX5x/FbQUJ8cP9aVNExvQxxjce8z0zkQcvax1DMVXkJTXyQqrz0UUiDYW1qu7UwhLkR3EZ9aMn4DqXJwfkRD1j0HO7JG6/q1ygbqrPCzvrelTW/AUXt/QNMuHIJca7Wey81nrXYXVHa7G3SyoaHaPwjfmZmKZQ7aa2LYDzRFkqU5PhxQPsTIUDElEIKjNp2s3v1/Z4ZB8NqD+ZSbv374bsVq0ICTwo4AQDUyWgjp7vEd20wb/gb0L1SZIMSJ/xP95d5oiaeA5pwl02oGxMVB5wvJncDYWY6H7czj5IxWM8HsukFInVX8d6PlSIPmjZSYTqUeJvaeiq6GbAisAKdSK2cR4NaaJz0kfXyTHkpTF2d5YA+kvYp+GmbkKrBvDDus9Rp/GB7rAW4LmypPLxvxm724Sc=
  - secure: He955lz+XdD4nEsLU9mW8QdbMQfnz3oAF2+kpjxgLDgrusydyi1GAAdA5X6+uzjkPw4jwnxeXy7YPFejiqHIaZtJbEPRBQCBUQ02ZVrHnj6TtSvAJmXdw9zIX89urtJP2SdwyMboEnuuIZXObN4FcIPoqftddubtFWpYr4N90eCGPG8pLa551adZgPjL/ED1g8uFQfQB6ubzFnixoBW/tGlYD3QEfqLxn0H0GIy9BVN5RCJf7Oho9vnHZKs+cTl71Cw5jPxwsA3+WEJ8UVHVsvOybp24d1z+RHB6Xig6Z604xloeoODXGLWDxbURgI9Utg/psRM0mlPiONLaJCATLWQ6xZBkhE8NqZHsR9Swx9HHzpzCxs5jaanLhvEKCmG0fVkaJ64rHlcbUYY6+c2iJV8dvzPUWEd6e//u7KW955D6xLrR7hgVOl5o+21JEUu9msLxbFM6t+hxlIbf1TkSGmoDo316p1B1ur5kqrh72Y0GspyzNxPgSVQtA0XFU997EEmoRiJeZAuaHqzI48/d4jUF0q8L9q3bEWOG7Z57BLpiEkW1xiyQejU/cbXuCX5vjcYAKB0ccGv59S4q8CtAOTphaQnw/z8y8K7NPnG8+NTKfVPOHt0f5VXKgokD4bC4sjUABspS6pNQwSXLgKVVA87v8LyJ25GwHIfa739PAbQ=
  - secure: VzLfoSA15UKmiB0UAm81gIPAyhhtjHDSpZGpV3sUDePvMMqYKG8wCpUDgMce9bN9ZZ/YihpvBBo8YAFj1xGeDjUZfkU/mlHmNGJUxSUPmZBTzpZ/3kjHBfxVGw7QPxRnxW4hbvb+ZVho7W9xKWQ367ppYgsMBcrg3lkBYYdaw2uEe71Bi3IPWJXppWFpd+iT0t+PVbPn5BGgYr1slBWPcXrfqBJ3Z1S64zexdXRVBm0S1qk+8qSnbgzUPnO3FvUSAW4rmTC5KTjGLJ5I1+5XoOBnXVkFKINhLKUUJ2mjt1R/4Kk0K4OTynGhSmcKU9jODa3iWM+Rv6jHF9FcZ45u/mNooCOp6k8T6kd1lOqyzUhb4AqXpNjCc9UvLBct1iGjDOnGZ2Ex8o2tkzdtGL56q4xPUxf8pXUocc5aAqMqtfTCxhomCCaa6T+ag4i5f9XPCV04VS7KtRGAV1TNeZEHJU9tuVfHqUWppOvIrqEj+Ek/d/qyMNJ5YIsG5MQPvnbBfI+HyWMxhpzmf8Uy2VORxVmBdHiFGg9JUgnvwu9iCsooR09dux6OwDMaS47mq3zgNlefNQdsxZ+uuLaUp72R5PYLrtm6VfkaRszSzExVqYkSZIznP8hWJYHxgW21MhphG5t2Q4x1oybP4NZfwA99tfBwgzYTixr+Yk4OKrbycFQ=
  - secure: kKYxEdV7cW1MDB0Ng6NlDlgIUWmGyMxRxY8Rc2gHz0vzvUX32mtrKoH5bpkBM+zlpmiWMejiCjdAUcQ0H0AUJ2+oHqLHXQRegEi1SxIk8fYyA0/Ts1ySyHIk0MyXjnYJmyQ7ic/GmZNRwv47FnwEeifMbST58TmER8zIERZtOJrwljNbebsAPH3kOrb8aX0D6Q5OH40qNXjlIwXGOdX/iozGr4XKbdklwYpzhQJaTNnHsioXvPGpIk/czqVac7hGuni60e9u4nSvl6Y/eOeWWHJ4BVUp0j45OV+ieRbnulIgp7dzR9vGsIya8niMcB/osj2QMQXdco/h02PxFN4lwa2ItIxiTxETVkelLnJ49nVU1Cxuq0rEZpPaMWdNkRHRGw9a5taJPTyspSHeO70Axfrwy6yXN5HjtZilpYRCl2DKs2AT7PSuU0AmJCVTGNuHQWZ3ZTUjfjrdRJX/s1B8F6VOAOMC2XChJuQuj9hP+LeLSF/kifquvH5FynPcu0iBkZbZNiniSlTsBa67KjZo1ROiP3xtMQSwWl1isP3Iw0lulGpo8RjbRREkEm8pPy0R1FNwA3YeSqlpi0G7Y9vTWgielXqC96V07h2UBM5fGqoMf7dn9Rb0LbvuVdZJkPb88eNFK2aFwB7oTWh3zsPINe+BciK8SHdFwR0EfgFZfB4=
  - secure: KMpy8Y+MStHoXgCmbd/EAdVab+9d8VhsVjL20FErBxd7ZV5KA2kldlyj1S16ZmPs5DJ9e7M++cEu14ImpVWNfJv9H8FMVAfksIvZvKLhu1m3egN9BSRub+7EVto6wMRjGy5s9JPw5Rx0ZZ2/KCRuJunNTt+hoPEax1gcSx3OCeTTAKc+nuPGNsiDkt5S8iFRsagr5dSd0ZmuD3cf55WXhB4ehgsABM7Zxzvxnh3HSQMHHzWsRDAX0FoXSv9Rq5dQy+/1/6q1MsJ2Ue5JDb4KSmRhS6IePnEtLgqkEI8i9/H5U5cxrUtBSiUDZHZdKik/wotST1lnAMoETDThpGZxtQopbDu1po0SVu9If67zSa+7NeedR6wztPaRg5odm31dWGOeHRGTc33p9n3rJVYNzTAC5TYYBNocmtUuASr3ka9wWJbRlFUIOWp6aTTZngYNrAKzYjwqo5bsrZPrsBGfCAd+SKHvXesefFTX9qTtSbk2LKWayA1OBW2ss2ZZC7tBBDo75zdl7iKsmGSpE8NjZMzKBhHCtv/zkosHZVrMeNvO7C5Tff0nA2NE5cQmTjpqEkoB8GZMmwKFbUEiCyuMGOiZl1KlvNmmhlwNgKBqKOL5JGJTVuKvYOt929Vx9IYZrOAb3pf6wtFaOdOpaCjUHr62Wt/6cAKmd7uPlapU2uY=
  - secure: YNbR2iASogY+u7q7ziWBxo4q/VsitgsL/5ILFRj1qnfEXIBIFCk+S0emcko2oIQi1Hj555yPtXNjBYRg7Z1nFewGKiuPmR7IgxhM/uW9LBxLgG0D9QpCLZgXTmWWT2rKiqMpNuxDaqvtjbEmtrGA14ovVmFLwM4SaxyLz7GNDuLHL66+ll89LvRNp9ucwSyvsLi9R7XC0Ulbe8PwT7YFA+LvBFLlsVdJKwDSkoGi9iIYz3b4apPHSx/cmBScDW5OzzfnGK7zL7yOoBT6ET6YiSvSg+ZzdTnf10FYTUeAzzlIj3i4ttZZJ7gUKMpw2JQPg9By+PvqamcGHW4fuZSWVrQrDPCPEwQd1GgJF/ujrIhk6WIYOilQXL1OfjgNVhX0fJHOQhXuMdvUawW7Lt/rpoDzzWe5SSxRzXTYMLIMXfSYjb4bNT11buSSADdITSGPcjfnvtkQDvvdPsYD95VrTLmU1AZXfgxgy/MxFTMRnoxgbyI9C/XUYRRBvM1ZardSwrnhYahX/OHcHOwbvyokPFo3esBBBdczm8b0F3eFfPyXp4ysyystcPjV+o8MJEsrLWLYiikEC9JlU8HXGRjtFEVifWTFEgiqpcIvy6eBSC5zk4NOmjqfXBkJnPaAt7WknngrEjby6+iNR7dMME9cyLZizRrxnq+SG+czbLl6Hhw=
  - secure: D7u1CPCvthOL520fUnX989OeB9clmhhFyVNMgQ/ssRlxIpYfX+eQTzJBQaLLNHY6SoC7z9MMKcpSjNCD7lPdtAosva6qa4ve3d55ym9lt9qWTtMNpy+k8ZFXK95Xe6MFSjvNc6ov1bm+myNmUgeuufnezvDzX3iOk6MqAwZxYvlbUozgtsAItF891IVHSSHSbFN2WOocpGCcDKNhrd7XW59U9IXByoP5/gUBs7ArbxbRPOLAsjIfU32oUvrm0bf9H0LWqsLzgztrCZRKlB7U2VbWbl/qm1wre/WwwlvezJzcyv/hVdbpqFNUu2BvVkjzCHjV5fPFjfYWXE3eeF88DFKIic91mS2BR0noxzY0Am2m+fq4ZXAs+LwV1IXwDUulpaduIg3Z1IZgJMq/ufhR+kfOrXF7LtxZ56zVwymXG7s31FFkWOd4UCATykVSbwRwFDvLfeDw0/V6+05zGh/eES/A35ysIxxOcVS/sb8n0dgFomnl1C9Gmh0b3TpB3CAKFCWqQNBVnIn3Ic1zwOogc6FjjbLQpLjPAZIo2oVdzuhV8oHdrPFt+kNnBuTQxZOWSuGysLXuhZFiW0klJba3qRMIrrAtaDT8GEvy8bWFyNidQgs2BzRwyuZ5zsfo0+O+oHAgRTw0r+suWIrBMwNqpUrrpMSiWkUSriqnZdlz1qo=
